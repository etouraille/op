<app-who (onChangeId)="changeUserId($event)"></app-who>
<table class="table">
  <tr *ngFor="let expense of expenses">
    <td>{{ expense.thing.name }}</td>
    <td>{{ expense.reservation.startDate | date}} au {{ expense.reservation.backDate | date}} à {{ expense.thing.dailyPrice }} &euro;</td>
    <td>{{ expense.amount | cent }}&euro;</td>
  </tr>
</table>
<button *ngIf="expenses.length > 0 && !expenses[0]?.incomeData?.file" class="btn btn-primary" (click)="generate()">Générer la facture</button>
<button *ngIf="expenses[0]?.incomeData?.file && expenses[0]?.status=='pending' "class="btn btn-danger" (click)="payExpense()">Régler</button>
{{ bill }}
<div *ngIf="url">
  <iframe
    [src]="url"
    frameBorder="0"
    scrolling="auto"
    height="1200px"
    width="100%"
  ></iframe>
</div>
